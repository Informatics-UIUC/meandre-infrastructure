<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>	
<comment>Generic query mapping for SQL databases</comment>
	<entry key="DB">Derby</entry>
	<entry key="MARKER">@@@</entry>
	<entry key="CREATE_JOB_STATUS_TABLE">
			CREATE TABLE meandre_job_status 
				(server_ID CHAR(16),
				 job_ID CHAR(250), 
				 status CHAR(1) default 'U', 
				 user_id char(40) default 'unknown',
				 ts timestamp,
				 PRIMARY KEY(server_ID,job_ID))
	</entry>
	<entry key="CREATE_JOB_CONSOLE_TABLE">
			CREATE TABLE meandre_job_console
				(ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY,
				 server_ID CHAR(16),
				 job_ID CHAR(250), 
				 print VARCHAR(32672), 
				 ts timestamp,
				 UNIQUE (ID) )
	</entry>
	<entry key="CREATE_JOB_LOG_TABLE">
			CREATE TABLE meandre_job_log
				(ID BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY,
				 server_ID CHAR(16),
				 job_ID CHAR(250), 
				 level CHAR(32), 
				 log VARCHAR(32672), 
				 ts timestamp,
				 UNIQUE (ID) )
	</entry>
	<entry key="INSERT_JOB_CONSOLE">
			INSERT INTO meandre_job_console (server_ID,job_ID,print,ts)
				VALUES (?,?,?,CURRENT TIMESTAMP)
	</entry>
	<entry key="INSERT_JOB_LOG">
			INSERT INTO meandre_job_log (server_ID,job_ID,level,log,ts)
				VALUES (?,?,?,?,CURRENT TIMESTAMP)
	</entry>
	<entry key="INSERT_JOB_STATUS">
			INSERT INTO meandre_job_status (server_ID,job_ID,status,user_id,ts)
				VALUES (?,?,?,?,CURRENT TIMESTAMP)
	</entry>
	<entry key="UPDATE_JOB_STATUS">
			UPDATE meandre_job_status
				SET status=?, ts = CURRENT TIMESTAMP
				WHERE server_ID=? and job_ID=?
	</entry>
	<entry key="UPDATE_JOB_STATUSES_SERVER">
			UPDATE meandre_job_status
				SET status=?, ts = CURRENT TIMESTAMP
				WHERE server_ID=? and status=?
	</entry>
</properties>